<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz de Versets Bibliques</title>
    <style>
        :root {
            --primary: #4a90e2;
            --primary-dark: #357abd;
            --text-primary: #2c3e50;
            --text-secondary: #666;
            --bg-light: #f5f6fa;
            --white: #ffffff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--bg-light);
            color: var(--text-primary);
            line-height: 1.6;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: var(--white);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
        }

        .header h1 {
            color: var(--text-primary);
            margin-bottom: 10px;
        }

        .header p {
            color: var(--text-secondary);
        }

        .timer-section {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            padding: 1%;
            background: var(--bg-light);
            border-radius: 8px;
        }

        .timer-input {
            width: 80px;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }

        .timer-display {
            font-size: 24px;
            font-weight: bold;
            min-width: 80px;
            text-align: center;
        }

        .verse-section {
            background: var(--white);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            min-height: 200px;
            border: 1px solid #eee;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .verse-reference {
            font-size: 1.5em;
            margin-bottom: 15px;
            color: var(--primary);
        }

        .verse-content {
            font-size: 1.2em;
            text-align: center;
            font-style: italic;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .verse-content.visible {
            opacity: 1;
        }

        .button-group {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background-color: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--primary-dark);
        }

        .btn-secondary {
            background-color: var(--bg-light);
            color: var(--text-primary);
        }

        .btn-secondary:hover {
            background-color: #e0e0e0;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
            padding: 15px;
            background: var(--bg-light);
            border-radius: 8px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 24px;
            font-weight: bold;
            color: var(--primary);
        }

        .stat-label {
            color: var(--text-secondary);
        }

        .verse-list {
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 15px;
            margin-top: 20px;
            display: none;
        }

        .verse-list.visible {
            display: block;
        }

        .verse-list-item {
            padding: 10px;
            border-bottom: 1px solid #eee;
        }

        .verse-list-item:last-child {
            border-bottom: none;
        }
        .audio-controls {
            background: var(--bg-light);
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .audio-settings {
            display: flex;
            gap: 20px;
            align-items: center;
            margin-top: 10px;
        }

        .audio-setting {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .audio-setting label {
            color: var(--text-secondary);
        }

        .audio-setting select,
        .audio-setting input {
            padding: 5px;
            border: 1px solid #ddd;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Quiz de Versets Bibliques</h1>
            <p>Apprenez et m√©ditez sur la Parole de Dieu</p>
        </div>

        <div class="timer-section">
            <label for="timer-input">Temps (secondes):</label>
            <input type="number" id="timer-input" class="timer-input" value="60" min="1">
            <button id="timer-toggle" class="btn btn-secondary">‚è∏Ô∏è</button>
            <div id="timer-display" class="timer-display">60</div>
        </div>

        <div class="verse-section">
            <div id="verse-reference" class="verse-reference">Cliquez sur "Nouveau Verset" pour commencer</div>
            <div id="verse-content" class="verse-content"></div>
        </div>

        <div class="button-group">
            <button id="new-verse" class="btn btn-primary">üîÑ Nouveau Verset</button>
            <button id="toggle-verse" class="btn btn-secondary">üëÅÔ∏è R√©v√©ler le Verset</button>
            <button id="toggle-list" class="btn btn-secondary">üìù Voir la Liste</button>
        </div>

        <div class="stats">
            <div class="stat-item">
                <div id="verses-seen" class="stat-value">0</div>
                <div class="stat-label">Versets vus</div>
            </div>
            <div class="stat-item">
                <div id="verses-remaining" class="stat-value">5</div>
                <div class="stat-label">Versets restants</div>
            </div>
        </div>

        <div id="verse-list" class="verse-list"></div>
    </div>
    <div class="audio-controls">
            <div class="button-group">
                <button id="play-audio" class="btn btn-primary">üîä Lire</button>
                <button id="stop-audio" class="btn btn-secondary">‚èπÔ∏è Arr√™ter</button><div class="audio-setting">
                    <label for="loop-checkbox">R√©p√©ter:</label>
                    <input type="checkbox" id="loop-checkbox">
                </div>
                </div>
                <div class="audio-setting">
                    <label for="speed-range">Vitesse:</label>
                    <input type="range" id="speed-range" min="0.5" max="2" step="0.1" value="1">
                    <span id="speed-value">1.0x</span>
                </div>
            </div>
            <div class="audio-settings">
                <div class="audio-setting">
                    <label for="voice-select">Voix:</label>
                    <select id="voice-select"></select>
                
                
            </div>
        </div>
    </div>
    <script>
        // Base de donn√©es des versets
        const versets = [
              {
                  id: 1,
                  reference: "Os√©e‚Ä¨ ‚Ä≠4‚Ä¨:‚Ä≠6‚Ä¨",
                  contenu: "Mon peuple est d√©truit, parce qu‚Äôil lui manque la connaissance. Puisque tu as rejet√© la connaissance, Je te rejetterai, et tu seras d√©pouill√© de mon sacerdoce; Puisque tu as oubli√© la loi de ton Dieu, J‚Äôoublierai aussi tes enfants.‚Ä≠‚Ä≠"
              },
              {
                  id: 2,
                  reference: "‚Ä≠‚Ä≠2 Pierre‚Ä¨ ‚Ä≠2‚Ä¨:‚Ä≠20‚Ä¨-‚Ä≠21‚Ä¨",
                  contenu: "En effet, si, apr√®s s‚Äô√™tre retir√©s des souillures du monde, par la connaissance du Seigneur et Sauveur J√©sus-Christ, ils s‚Äôy engagent de nouveau et sont vaincus, leur derni√®re condition est pire que la premi√®re. Car mieux valait pour eux n‚Äôavoir pas connu la voie de la justice, que de se d√©tourner, apr√®s l‚Äôavoir connue, du saint commandement qui leur avait √©t√© donn√©."
              },
              {
                  id: 3,
                  reference: "‚Ä≠‚Ä≠J√©r√©mie‚Ä¨ ‚Ä≠5‚Ä¨:‚Ä≠14‚Ä¨",
                  contenu: "C‚Äôest pourquoi ainsi parle l‚Äô√âternel, le Dieu des arm√©es: Parce que vous avez dit cela, Voici, je veux que ma parole dans ta bouche soit du feu, Et ce peuple du bois, et que ce feu les consume."
              },
              {
                  id: 4,
                  reference: "‚Ä≠‚Ä≠Jean‚Ä¨ ‚Ä≠17‚Ä¨:‚Ä≠3‚Ä¨",
                  contenu: "Or, la vie √©ternelle, c‚Äôest qu‚Äôils te connaissent, toi, le seul vrai Dieu, et celui que tu as envoy√©, J√©sus-Christ."
              },
              {
                  id: 5,
                  reference: "‚Ä≠‚Ä≠Apocalypse‚Ä¨ ‚Ä≠21‚Ä¨:‚Ä≠6‚Ä¨",
                  contenu: "Et il me dit: C‚Äôest fait! Je suis l‚Äôalpha et l‚Äôom√©ga, le commencement et la fin. A celui qui a soif je donnerai de la source de l‚Äôeau de la vie, gratuitement."
              },
              {
                  id: 6,
                  reference: "‚Ä≠‚Ä≠Jean‚Ä¨ ‚Ä≠6‚Ä¨:‚Ä≠63‚Ä¨",
                  contenu: "C‚Äôest l‚Äôesprit qui vivifie; la chair ne sert de rien. Les paroles que je vous ai dites sont esprit et vie."
              },
              {
                  id: 7,
                  reference: "‚Ä≠‚Ä≠Os√©e‚Ä¨ ‚Ä≠6‚Ä¨:‚Ä≠6‚Ä¨",
                  contenu: "Car j‚Äôaime la pi√©t√© et non les sacrifices, Et la connaissance de Dieu plus que les holocaustes."
              },
              {
                  id: 8,
                  reference: "Jean 1:1",
                  contenu: "Au commencement √©tait la Parole, et la Parole √©tait avec Dieu, et la Parole √©tait Dieu."
              },
              {
                  id: 9,
                  reference: "‚Ä≠‚Ä≠Matthieu‚Ä¨ ‚Ä≠7‚Ä¨:‚Ä≠21‚Ä¨",
                  contenu: "Ceux qui me disent: Seigneur, Seigneur! N‚Äôentreront pas tous dans le royaume des cieux, mais celui-l√† seul qui fait la volont√© de mon P√®re qui est dans les cieux."
              },
              {
                  id: 10,
                  reference: "‚Ä≠‚Ä≠Matthieu‚Ä¨ ‚Ä≠6‚Ä¨:‚Ä≠31‚Ä¨-‚Ä≠33‚Ä¨",
                  contenu: "Ne vous inqui√©tez donc point, et ne dites pas: Que mangerons-nous? Que boirons-nous? De quoi serons-nous v√™tus? Car toutes ces choses, ce sont les pa√Øens qui les recherchent. Votre P√®re c√©leste sait que vous en avez besoin. Cherchez premi√®rement le royaume et la justice de Dieu; et toutes ces choses vous seront donn√©es par-dessus."
              },
              {
                  id: 11,
                  reference: "Jean‚Ä¨ ‚Ä≠16‚Ä¨:‚Ä≠25‚Ä¨",
                  contenu: "Je vous ai dit ces choses en paraboles. L‚Äôheure vient o√π je ne vous parlerai plus en paraboles, mais o√π je vous parlerai ouvertement du P√®re."
              },
              {
                  id: 12,
                  reference: "‚Ä≠‚Ä≠Proverbes‚Ä¨ ‚Ä≠16‚Ä¨:‚Ä≠9‚Ä¨",
                  contenu: "Le c≈ìur de l‚Äôhomme m√©dite sa voie, Mais c‚Äôest l‚Äô√âternel qui dirige ses pas."
              },
              {
                  id: 13,
                  reference: "‚Ä≠‚Ä≠Jean‚Ä¨ ‚Ä≠14‚Ä¨:‚Ä≠23‚Ä¨",
                  contenu: "J√©sus lui r√©pondit: Si quelqu‚Äôun m‚Äôaime, il gardera ma parole, et mon P√®re l‚Äôaimera; nous viendrons √† lui, et nous ferons notre demeure chez lui."
              },
              {
                  id: 14,
                  reference: "Luc‚Ä¨ ‚Ä≠12‚Ä¨:‚Ä≠49‚Ä¨",
                  contenu: "Je suis venu jeter un feu sur la terre, et qu‚Äôai-je √† d√©sirer, s‚Äôil est d√©j√† allum√©?"
              },
              {
                  id: 15,
                  reference: "‚Ä≠‚Ä≠Psaumes‚Ä¨ ‚Ä≠14‚Ä¨:‚Ä≠1‚Ä¨-‚Ä≠2‚Ä¨",
                  contenu: "Au chef des chantres. De David. L‚Äôinsens√© dit en son c≈ìur: Il n‚Äôy a point de Dieu! Ils se sont corrompus, ils ont commis des actions abominables; Il n‚Äôen est aucun qui fasse le bien. L‚Äô√âternel, du haut des cieux, regarde les fils de l‚Äôhomme, Pour voir s‚Äôil y a quelqu‚Äôun qui soit intelligent, Qui cherche Dieu."
              },

          ];
        // √âtat de l'application
        let versetsNonUtilises = [...versets];
        let versetActuel = null;
        let timerInterval = null;
        let isTimerRunning = false;
        let versetVisible = false;
        let versetsSeen = 0;

        // √âl√©ments du DOM
        const timerInput = document.getElementById('timer-input');
        const timerDisplay = document.getElementById('timer-display');
        const timerToggle = document.getElementById('timer-toggle');
        const verseReference = document.getElementById('verse-reference');
        const verseContent = document.getElementById('verse-content');
        const newVerseBtn = document.getElementById('new-verse');
        const toggleVerseBtn = document.getElementById('toggle-verse');
        const toggleListBtn = document.getElementById('toggle-list');
        const versesList = document.getElementById('verse-list');
        const versesSeeDisplay = document.getElementById('verses-seen');
        const versesRemainingDisplay = document.getElementById('verses-remaining');

        // Fonctions
        function getRandomVerse() {
            if (versetsNonUtilises.length === 0) {
                versetsNonUtilises = [...versets];
            }

            const randomIndex = Math.floor(Math.random() * versetsNonUtilises.length);
            const verse = versetsNonUtilises[randomIndex];
            versetsNonUtilises.splice(randomIndex, 1);

            return verse;
        }

        function updateTimer() {
            const currentTime = parseInt(timerDisplay.textContent);
            if (currentTime > 0) {
                timerDisplay.textContent = currentTime - 1;
            } else {
                stopTimer();
            }
        }

        function startTimer() {
            if (!isTimerRunning) {
                isTimerRunning = true;
                timerToggle.textContent = '‚è∏Ô∏è';
                timerInterval = setInterval(updateTimer, 1000);
            }
        }

        function stopTimer() {
            if (isTimerRunning) {
                isTimerRunning = false;
                timerToggle.textContent = '‚ñ∂Ô∏è';
                clearInterval(timerInterval);
            }
        }

        function resetTimer() {
            stopTimer();
            timerDisplay.textContent = timerInput.value;
        }

        function updateStats() {
            versesSeeDisplay.textContent = versetsSeen;
            versesRemainingDisplay.textContent = versetsNonUtilises.length;
        }

        // Gestionnaires d'√©v√©nements
        newVerseBtn.addEventListener('click', () => {
            versetActuel = getRandomVerse();
            verseReference.textContent = versetActuel.reference;
            verseContent.textContent = versetActuel.contenu;
            verseContent.classList.remove('visible');
            versetVisible = false;
            versetsSeen++;
            updateStats();
            resetTimer();
            startTimer();
        });

        toggleVerseBtn.addEventListener('click', () => {
            versetVisible = !versetVisible;
            verseContent.classList.toggle('visible');
            toggleVerseBtn.textContent = versetVisible ? 'üôà Cacher le Verset' : 'üëÅÔ∏è R√©v√©ler le Verset';
        });

        toggleListBtn.addEventListener('click', () => {
            versesList.classList.toggle('visible');
            toggleListBtn.textContent = versesList.classList.contains('visible') ? 'üìù Cacher la Liste' : 'üìù Voir la Liste';

            if (versesList.classList.contains('visible')) {
                versesList.innerHTML = versets.map(verse => `
                    <div class="verse-list-item">
                        <strong>${verse.reference}</strong>
                        <p>${verse.contenu}</p>
                    </div>
                `).join('');
            }
        });

        timerToggle.addEventListener('click', () => {
            if (isTimerRunning) {
                stopTimer();
            } else {
                startTimer();
            }
        });

        timerInput.addEventListener('change', () => {
            resetTimer();
        });

        // Initialisation des statistiques
        updateStats();
        const playAudioBtn = document.getElementById('play-audio');
        const stopAudioBtn = document.getElementById('stop-audio');
        const voiceSelect = document.getElementById('voice-select');
        const speedRange = document.getElementById('speed-range');
        const speedValue = document.getElementById('speed-value');
        const loopCheckbox = document.getElementById('loop-checkbox');

        // Variables pour la gestion de l'audio
        let speechSynthesis = window.speechSynthesis;
        let isPlaying = false;
        let currentUtterance = null;

        // Initialisation des voix disponibles
        function initializeVoices() {
            const voices = speechSynthesis.getVoices();
            voiceSelect.innerHTML = voices
                .filter(voice => voice.lang.startsWith('fr'))
                .map(voice => `<option value="${voice.name}">${voice.name}</option>`)
                .join('');
        }

        // Attendre que les voix soient charg√©es
        speechSynthesis.onvoiceschanged = initializeVoices;
        initializeVoices();

        // Fonction pour lire le verset en audio
        function playVerse() {
            if (!versetActuel) return;

            // Arr√™ter la lecture en cours
            stopAudio();

            const text = `${versetActuel.reference}. ${versetActuel.contenu}`;
            currentUtterance = new SpeechSynthesisUtterance(text);

            // Configurer les param√®tres de lecture
            const selectedVoice = speechSynthesis.getVoices().find(voice => voice.name === voiceSelect.value);
            if (selectedVoice) currentUtterance.voice = selectedVoice;

            currentUtterance.rate = parseFloat(speedRange.value);
            currentUtterance.lang = 'fr-FR';

            // G√©rer la lecture en boucle
            if (loopCheckbox.checked) {
                currentUtterance.onend = () => {
                    if (loopCheckbox.checked) playVerse();
                };
            }

            speechSynthesis.speak(currentUtterance);
            isPlaying = true;
            playAudioBtn.textContent = '‚è∏Ô∏è Pause';
        }

        // Fonction pour arr√™ter la lecture
        function stopAudio() {
            speechSynthesis.cancel();
            isPlaying = false;
            playAudioBtn.textContent = 'üîä Lire';
        }

        // Gestionnaires d'√©v√©nements pour l'audio
        playAudioBtn.addEventListener('click', () => {
            if (isPlaying) {
                stopAudio();
            } else {
                playVerse();
            }
        });

        stopAudioBtn.addEventListener('click', stopAudio);

        speedRange.addEventListener('input', (e) => {
            const speed = parseFloat(e.target.value);
            speedValue.textContent = `${speed.toFixed(1)}x`;
            if (isPlaying) {
                // Red√©marrer la lecture avec la nouvelle vitesse
                playVerse();
            }
        });

        // Arr√™ter l'audio quand on change de verset
        newVerseBtn.addEventListener('click', stopAudio);
    </script>
</body>
</html>
